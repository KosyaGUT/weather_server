# Weather API Project
Этот проект представляет собой API для получения прогноза погоды для отслеживаемых городов, а также для регистрации пользователей, добавляющих города в свой список для отслеживания. Он использует FastAPI для обработки запросов и хранит данные в JSON файлах.
## Установка

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/KosyaGUT/weather_server.git
    cd weather_server
    ```

2. Установите виртуальное окружение (рекомендуется):
    ```bash
    python -m venv venv
    source venv/bin/activate  # для Linux или macOS
    venv\Scripts\activate     # для Windows
    ```

3. Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

4. Запустите приложение:
    ```bash
    uvicorn script:app --reload
    ```

5. Откройте браузер и перейдите по адресу [http://127.0.0.1:8000](http://127.0.0.1:8000), чтобы использовать API.


## Использование

1. Получение прогноза погоды для города:
    ```bash
    GET http://127.0.0.1:8000/weather?latitude=55.7558&longitude=37.6173
    ```

2. Добавление города в список для отслеживания:
   1. Перейдите на адрес вашей API-документации (например, [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs) для Swagger).
   2. Найдите метод POST /add_city.
   3. Введите параметры (название города, широта и долгота) в предусмотренные поля.
   4. Нажмите кнопку для выполнения запроса.
    ```bash
    POST http://127.0.0.1:8000/add_city
    Content-Type: application/json

    {
        "city_name": "Moscow",
        "latitude": 55.7558,
        "longitude": 37.6173
    }
    ```

3. Получение списка отслеживаемых городов:
    ```bash
    GET http://127.0.0.1:8000/tracked_cities
    ```

4. Регистрация пользователя:
    ```bash
    POST http://127.0.0.1:8000/register_user
    Content-Type: application/json

    {
        "username": "user123"
    }
    ```

5. Добавление города для пользователя:
    ```bash
    POST http://127.0.0.1:8000/add_city/{user_id}
    Content-Type: application/json

    {
        "city_name": "Moscow",
        "latitude": 55.7558,
        "longitude": 37.6173
    }
    ```

#### 5. Конфигурация
Если проект требует каких-либо настроек (например, указания API-ключей, портов, базы данных), укажите это:

```markdown
## Конфигурация

- Для работы с Open-Meteo API не требуется ключ. Однако, если вы хотите использовать другой источник данных, замените URL и параметры запроса в коде.
- Приложение по умолчанию работает на порту 8000.
```


## Тестирование

Для запуска тестов используйте следующую команду:

```bash
   pytest test_script.py 
```

